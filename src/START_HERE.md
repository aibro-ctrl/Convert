# üéØ –ù–ê–ß–ù–ò–¢–ï –û–¢–°–Æ–î–ê

## ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!

–Ø –Ω–∞—Å—Ç—Ä–æ–∏–ª –≤—Å–µ –ø–æ–¥ –≤–∞—à PocketBase: **http://127.0.0.1:54739**

---

## üöÄ –í–´–ü–û–õ–ù–ò–¢–ï –≠–¢–ò –ö–û–ú–ê–ù–î–´ (–ü–û –ü–û–†–Ø–î–ö–£):

### 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É backend-setup

```bash
cd /var/www/Convert/src/backend-setup
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

```bash
cat .env
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
VITE_POCKETBASE_URL=http://127.0.0.1:54739
VITE_REDIS_HOST=localhost
VITE_REDIS_PORT=6379
VITE_REDIS_DB=0
```

‚úÖ –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —à–∞–≥—É 3  
‚ùå –ï—Å–ª–∏ –Ω–µ—Ç - –∑–∞–ø—É—Å—Ç–∏—Ç–µ: `./configure.sh`

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install pocketbase ioredis dotenv
```

### 4. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ PocketBase

```bash
node create-collections.js
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
üîÑ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PocketBase...
‚úì PocketBase –¥–æ—Å—Ç—É–ø–µ–Ω

üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ "users"...
‚úì –ö–æ–ª–ª–µ–∫—Ü–∏—è "users" —Å–æ–∑–¥–∞–Ω–∞
... –∏ —Ç.–¥.

‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ!
–°–æ–∑–¥–∞–Ω–æ:     7
–°—É—â–µ—Å—Ç–≤—É–µ—Ç:  0
–û—à–∏–±–æ–∫:      0
```

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```bash
node test-connection.js
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
‚úÖ PocketBase: 5/5 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
‚úÖ Redis: 5/5 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
```

---

## üéâ –ì–û–¢–û–í–û! –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –û–ø—Ü–∏—è –ê: –°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ PocketBase

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://127.0.0.1:54739/_/
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞:
   - **Email:** `admin@konvert.chat` (–∏–ª–∏ —Å–≤–æ–π)
   - **Password:** –ø—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å

### –û–ø—Ü–∏—è –ë: –°–æ–∑–¥–∞–π—Ç–µ .env –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd /var/www/Convert/src

cat > .env << 'EOF'
# Backend
VITE_BACKEND_TYPE=pocketbase
VITE_POCKETBASE_URL=http://127.0.0.1:54739

# Redis
VITE_REDIS_HOST=localhost
VITE_REDIS_PORT=6379
VITE_REDIS_DB=0

# Features
VITE_E2EE_ENABLED=true
VITE_REALTIME_ENABLED=true
VITE_FILE_UPLOAD_ENABLED=true
VITE_VOICE_VIDEO_ENABLED=true
VITE_GOD_MODE_ENABLED=true
VITE_ACHIEVEMENTS_ENABLED=true
EOF

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏
echo "JWT_SECRET=$(openssl rand -base64 32 | tr -d '=+/' | cut -c1-32)" >> .env
echo "ENCRYPTION_KEY=$(openssl rand -base64 32 | tr -d '=+/' | cut -c1-32)" >> .env
```

### –û–ø—Ü–∏—è –í: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
cd /var/www/Convert/src
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

### –û—à–∏–±–∫–∞: "PocketBase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ PocketBase —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
curl http://127.0.0.1:54739/api/health
```

–ï—Å–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å PocketBase
ps aux | grep pocketbase

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ /opt/pocketbase)
cd /opt/pocketbase
./pocketbase serve --http=127.0.0.1:54739
```

### –û—à–∏–±–∫–∞: "Redis –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Redis —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
redis-cli ping
```

–ï—Å–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
```bash
sudo systemctl start redis-server
sudo systemctl status redis-server
```

### –û—à–∏–±–∫–∞: "Cannot find module"

–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
cd /var/www/Convert/src/backend-setup
rm -rf node_modules package-lock.json
npm install pocketbase ioredis dotenv
```

---

## üìä –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ:

### –í PocketBase (7 –∫–æ–ª–ª–µ–∫—Ü–∏–π):
1. ‚úÖ **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å RSA –∫–ª—é—á–∞–º–∏ –¥–ª—è E2EE
2. ‚úÖ **rooms** - –∫–æ–º–Ω–∞—Ç—ã (–ø—É–±–ª–∏—á–Ω—ã–µ/–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ/–ª–∏—á–Ω—ã–µ)
3. ‚úÖ **messages** - —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ä–µ–∞–∫—Ü–∏—è–º–∏
4. ‚úÖ **achievements** - 8 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –ë–æ–ª—Ç—É–Ω –∏ —Ç.–¥.)
5. ‚úÖ **user_achievements** - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º
6. ‚úÖ **friend_requests** - –∑–∞—è–≤–∫–∏ –≤ –¥—Ä—É–∑—å—è
7. ‚úÖ **files** - –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –í backend-setup:
- ‚úÖ `.env` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–≤–∞—à PocketBase URL)
- ‚úÖ `node_modules/` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ì–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ **–°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** - http://127.0.0.1:54739/_/
2. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
3. ‚úÖ **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - `npm run dev`
4. ‚úÖ **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å** –∫–∞–∫ –ø–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (—Å—Ç–∞–Ω–µ—Ç –∞–¥–º–∏–Ω–æ–º)
5. ‚úÖ **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—ã** –∏ –Ω–∞—á–Ω–∏—Ç–µ –æ–±—â–∞—Ç—å—Å—è!

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PocketBase
curl http://127.0.0.1:54739/api/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Redis
redis-cli ping

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏
curl http://127.0.0.1:54739/api/collections

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
cd /var/www/Convert/src/backend-setup
node test-connection.js

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
node create-collections.js

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ PocketBase
tail -f /opt/pocketbase/pocketbase.log
```

---

## üÜò –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã:
- **[QUICK_FIX.md](QUICK_FIX.md)** - –±—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- **[INSTALL_NOW.md](INSTALL_NOW.md)** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- **[backend-setup/README.md](backend-setup/README.md)** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[NATIVE_SETUP_GUIDE.md](NATIVE_SETUP_GUIDE.md)** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç:

- [x] PocketBase URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `http://127.0.0.1:54739` ‚úÖ
- [x] –§–∞–π–ª—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (PocketBase –∏–º–ø–æ—Ä—Ç) ‚úÖ
- [x] .env —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω ‚úÖ
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã - **–°–î–ï–õ–ê–ô–¢–ï –°–ï–ô–ß–ê–°**
- [ ] –ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã - **–°–î–ï–õ–ê–ô–¢–ï –°–ï–ô–ß–ê–°**
- [ ] –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω - **–°–î–ï–õ–ê–ô–¢–ï –ü–û–¢–û–ú**
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ - **–°–î–ï–õ–ê–ô–¢–ï –ü–û–¢–û–ú**

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ  
**–í–∞—à PocketBase:** http://127.0.0.1:54739  
**–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** ~3 –º–∏–Ω—É—Ç—ã  

üöÄ **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å —à–∞–≥–∞ 1!**
