import{an as t}from"./index-D9PHDzQu.js";function r(e){if(!e)return"";try{if(e.includes("kong:8000")||e.includes("kong/")||e.includes("kong")){let n=e.replace(/https?:\/\/kong:8000/g,t).replace(/https?:\/\/kong\//g,`${t}/`).replace(/https?:\/\/kong/g,t).replace(/kong:8000/g,t.replace(/^https?:\/\//,"")).replace(/\/\/kong\//g,`//${t.replace(/^https?:\/\//,"")}/`).replace(/\/\/kong/g,`//${t.replace(/^https?:\/\//,"")}`);if(n.includes("kong")){const o=n.match(/(https?:\/\/)?kong(:8000)?(\/.*)/);if(o){const a=o[3]||"";n=`${t}${a}`}}return console.log("Fixed URL (kong replacement):",e,"->",n),n}const c=new URL(e);if(c.hostname==="kong"||c.hostname.includes("kong")){const n=c.pathname+c.search+c.hash,o=new URL(n,t);return console.log("Fixed URL (URL object):",e,"->",o.toString()),o.toString()}return e}catch(c){if(e.includes("kong")){let n=e.replace(/https?:\/\/kong:8000/g,t).replace(/https?:\/\/kong\//g,`${t}/`).replace(/https?:\/\/kong/g,t).replace(/kong:8000/g,t.replace(/^https?:\/\//,"")).replace(/\/\/kong\//g,`//${t.replace(/^https?:\/\//,"")}/`).replace(/\/\/kong/g,`//${t.replace(/^https?:\/\//,"")}`);if(n.includes("kong")){const o=n.match(/(https?:\/\/)?kong(:8000)?(\/.*)/);if(o){const a=o[3]||"";n=`${t}${a}`}}return console.log("Fixed URL (error fallback):",e,"->",n),n}return console.warn("Could not fix URL:",e,c),e}}function p(e){return r(e)}export{p as f};
